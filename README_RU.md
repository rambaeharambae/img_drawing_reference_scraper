# imgscraper для художников от художника: парсер - сбор референсов - описание, функции и зависимости

    Описание:
    Программа предназначена для автоматического парсинга, в первую очередь референсов для художников, их загрузки, сортировки и фильтрации из:
    - Pinterest (с поддержкой full-res изображений)
    - Google Images
    - Bing Images

Не требует сторонних API, сбор происходит локально через Selenium/webdriver-manager/icrawler.

    Основные возможности:
    • Поиск изображений по ключевым словам, категориям, позам и дополнительным (отдельным) запросам
    • Автоматическая фильтрация:
      - Проверка на наличие человека в кадре (YOLO + можно менять параметр срабатывания)
      - Определение человека в полный рост на изображении (можно менять параметр срабатывания)
      - Фильтрация файлов низкого качества (<10 КБ)
      - Фильтрация на ЧБ-изображения (можно совместить Poses + Additional requests = "black and white" + Filter ЧБ)
      - Проверка и удаление дубликатов через pHash (можно менять параметр срабатывания)
    • Работа с историей: исключение повторной загрузки уже загруженных изображений (seen_urls.json)
    • Сохранение полноразмерных URL-адресов в `full_urls.log`
    • Загрузка full-res изображений
    • Парсинг Pinterest в windowless\headless режиме
    • Индексирование папок для более быстрой проверки дубликатов
    • Журнал работы в режиме реального времени на вкладке «Debug»
    • Сохранение настроек программы между запусками
    • Вомзожность исключать\включать определенные ресурсы через поисковые системы для парсинга 
    • Выбор минимального размера изображения (wide\height) при парсинге
    • Выбор пресета для парсинга поз (foreshortening\dynamic action\perspective pack)
    • Выбор опции парсинга только скетчей\набросков
    • Полная рандомизация поиска при парсинге

    Примечания:
    - Первый запуск может быть долгим из-за отсутсвия некоторых зависимых библиотек на устройстве (по типу YOLO\WebDriver-manager)

    Разработчик логики и тестировщик: Hara
    Разработка и написание кода: ChatGPT

    Будущие улучшения:
    - Новые классы для поиска (животные и предметы)
    - Фильтрация по позам и количеству людей
    - Оценка позы (определение ключевых точек), проверка наличия в кадре видимых конечностей/позы
    - Автоматический выбор модели: если задача общая, используйте стандартный yolov8n.pt для скорости или yolov8m.pt для качества
    - Визуализация и предварительный просмотр фильтра — открытие окна с примерами распознанных кадров, подсвеченными блоками и статистикой (количество отфильтрованных (вышло, сколько осталось)
    - Асинхронная загрузка + обработка
    - Расширенный контент-анализ (YOLO + оценка позы + OCR + распознавание сцены: выбор по выражению лица/положению тела)
    - Удаление водяных знаков, фильтры по основному (доминирующему) цвету и композиции
    - Автоматическая сортировка по категориям/тегам
    - Встроенная защита от банов: ротация User-Agent, случайные задержки и случайная эмуляция браузера   
    - Экспорт результатов в ZIP/JSON
    - GUI и UX: будет в стиле Figma/Notion
    
    Зависимости:
    - Python 3.x
    - PyQt5
    - Selenium
    - webdriver-manager
    - icrawler
    - pillow
    - requests
    - beautifulsoup4
    - imagehash
    - ultralitycs

<img width="1185" height="591" alt="image" src="https://github.com/user-attachments/assets/c2e6399b-6ddb-4df7-bfe8-ab9a58a5b997" />
<img width="1182" height="600" alt="image" src="https://github.com/user-attachments/assets/24622bbe-906c-46e6-b48b-0135a3635919" />
<img width="1228" height="601" alt="image" src="https://github.com/user-attachments/assets/ec7b705a-2a5d-4286-b225-98e47d68cabb" />
<img width="1226" height="596" alt="image" src="https://github.com/user-attachments/assets/8c77b11c-a7d6-4a60-915f-d524a24b321f" />

# # imgscraper для художников от художника: парсер - сбор референсов - установка 

    1. Клонирование репозитория
    git clone https://github.com/rambaeharambae/img_drawing_reference_scraper.git
    2. Установк зависимостей
    pip install -r requirements.txt
    3. Запуск через python
    python imgscraper.py
    4. Сборка в исполняемый .exe-файл
    pyinstaller --onefile --noconsole imgscraper.py

# # iimgscraper для художников от художника: парсер - сбор референсов - загрузка 

    Перейти к релизу и скачать .exe-файл

# # imgscraper для художников от художника: парсер - сбор референсов - известные баги

    Если ищется хрень с тем, что хотели (головы вместо человека в полный рост), измените пороговое значение threshold тела или используй Additional req., или и то, и другое.
    --
    Первый запуск может быть долгим, если отсутствуют какие-либо зависимости (читай примечания).
