# imgscraper для художников от художника: парсер - сбор референсов - описание, функции и зависимости

    Описание:
    Программа предназначена для автоматического парсинга, в первую очередь референсов для художников, их загрузки, сортировки и фильтрации из:
    - Pinterest (с поддержкой full-res изображений)
    - Google Images
    - Bing Images

Не требует сторонних API, сбор происходит локально через Selenium/webdriver-manager/icrawler.

    Основные возможности:
    • Поиск изображений по ключевым словам, категориям, позам и дополнительным (отдельным) запросам
    • Автоматическая фильтрация:
      - Проверка на наличие человека в кадре (YOLO + возможность изменения параметра срабатывания)
      - Определение человека в полный рост на изображении (можно менять параметр срабатывания)
      - Фильтрация файлов низкого качества (<10 КБ)
      - Фильтрация на ЧБ-изображения (можно совместить Poses + Additional requests = "black and white" + Filter ЧБ)
      - Проверка и удаление дубликатов через pHash (можно менять параметр срабатывания)
    • Работа с историей: исключение уже загруженных изображений (seen_urls.json)
    • Сохранение полноразмерных URL-адресов в `full_urls.log`
    • Загрузка full-res изображений
    • Парсинг Pinterest в windowless\headless режиме
    • Индексирование папок для более быстрой проверки дубликатов
    • Журнал работы в режиме реального времени на вкладке «Debug»
    • Сохранение настроек программы между запусками
    • Выбор минимального размера изображения (wide\height) при парсинге
    • Выбор пресета для парсинга поз (foreshortening\dynamic action\perspective pack)
    • Выбор режима парсинга только скетчей\набросков
    • Полная рандомизация поиска при парсинге

    Примечания:
    - Все файлы сохраняются с уникальными именами (дата/время + случайный хвост)
    - Историю загруженных URL-адресов можно сбросить через меню
    - Можно портировать на Linux\macOS, но мне всё равно
    - Первый запуск может быть долгим из-за отсутсвия некоторых зависимых библиотек на устройстве (по типу YOLO\WebDriver-manager)

    Разработчик логики и тестировщик: Hara
    Разработка и написание кода: ChatGPT
    
    Зависимости:
    - Python 3.x
    - PyQt5
    - Selenium
    - webdriver-manager
    - icrawler
    - pillow
    - requests
    - beautifulsoup4
    - imagehash
    - ultralitycs

    
<img width="975" height="476" alt="image" src="https://github.com/user-attachments/assets/8b966e21-a61f-4394-8506-ab993ec5819b" />

<img width="976" height="473" alt="image" src="https://github.com/user-attachments/assets/287a014d-3287-4823-b564-0a649a30ba2a" />

<img width="974" height="475" alt="image" src="https://github.com/user-attachments/assets/34adabe1-781b-416c-b1f0-fd04b069570e" />

<img width="974" height="655" alt="image" src="https://github.com/user-attachments/assets/74aa1c0f-cfea-43f7-90f6-a1b9cd32dbd6" />

<img width="983" height="602" alt="image" src="https://github.com/user-attachments/assets/49611aa5-0796-4b0f-9575-c005f8fd849f" />

<img width="2214" height="1107" alt="image" src="https://github.com/user-attachments/assets/138987f3-81e2-4c28-b8f7-220147e492a4" />

# # imgscraper для художников от художника: парсер - сбор референсов - установка 

    1. Клонирование репозитория
    git clone https://github.com/rambaeharambae/img_drawing_reference_scraper.git
    2. Установк зависимостей
    pip install -r requirements.txt
    3. Запуск через python
    python imgscraper.py
    4. Сборка в исполняемый .exe-файл
    pyinstaller --onefile --noconsole imgscraper.py

# # iimgscraper для художников от художника: парсер - сбор референсов - загрузка 

    Перейти к релизу и скачать .exe-файл

# # imgscraper для художников от художника: парсер - сбор референсов - известные баги

    Функция завершения работы программы иногда работает не так, как ожидалось, несмотря на PSUTIL:
    Проверь в диспетчере задач, не зависли ли процессы Chrome/ChromeDriver.
    Если всё ок, они должны завершиться вскоре после закрытия приложения и Chrome/ChromeDriver, но этого иногда не происходит.
    Поэтому при выходе из программы: во вкладке «Filters» нажми «Stop browser» и затем выйди из программы.
    --
    Если ищется хрень с тем, что хотели (головы вместо человека в полный рост), измените пороговое значение threshold тела или используй Additional req., или и то, и другое.
    --
    Первый запуск может быть долгим, если отсутствуют какие-либо зависимости (читай примечания).
